{
  "version": "1.0.0",
  "patterns": [
    {
      "id": "auth-001",
      "category": "authentication",
      "code": "401",
      "pattern": "(?i)(unauthorized|invalid.*api.*key|authentication.*failed|401)",
      "severity": "critical",
      "title": "Authentication Failed",
      "description": "API key is missing, invalid, or expired",
      "causes": ["Invalid API key", "Expired token", "Wrong provider configured"],
      "fix_steps": ["Verify API key in openclaw.json", "Check environment variables", "Run: openclaw models auth setup-token"],
      "fix_recipe_id": "fix-auth-key",
      "related_codes": ["INVALID_REQUEST"],
      "doc_url": "https://docs.openclaw.ai/configuration/auth"
    },
    {
      "id": "auth-002",
      "category": "authentication",
      "code": "401",
      "pattern": "(?i)(missing.*anthropic.*api.*key|ANTHROPIC_API_KEY.*not.*set|anthropic.*authentication)",
      "severity": "critical",
      "title": "Missing Anthropic API Key",
      "description": "ANTHROPIC_API_KEY environment variable is not set",
      "causes": ["Environment variable not set", "API key not configured in openclaw.json", "Wrong environment file loaded"],
      "fix_steps": ["Set ANTHROPIC_API_KEY environment variable", "Add key to .env file", "Run: openclaw models auth setup-token --provider anthropic"],
      "fix_recipe_id": "fix-auth-env",
      "related_codes": ["INVALID_REQUEST"],
      "doc_url": "https://docs.openclaw.ai/providers/anthropic"
    },
    {
      "id": "auth-003",
      "category": "authentication",
      "code": "401",
      "pattern": "(?i)(missing.*openai.*api.*key|OPENAI_API_KEY.*not.*set|openai.*authentication)",
      "severity": "critical",
      "title": "Missing OpenAI API Key",
      "description": "OPENAI_API_KEY environment variable is not set",
      "causes": ["Environment variable not set", "API key not configured in openclaw.json", "Wrong environment file loaded"],
      "fix_steps": ["Set OPENAI_API_KEY environment variable", "Add key to .env file", "Run: openclaw models auth setup-token --provider openai"],
      "fix_recipe_id": "fix-auth-env",
      "related_codes": ["INVALID_REQUEST"],
      "doc_url": "https://docs.openclaw.ai/providers/openai"
    },
    {
      "id": "auth-004",
      "category": "authentication",
      "code": "401",
      "pattern": "(?i)(token.*expired|jwt.*expired|session.*expired|expired.*credentials)",
      "severity": "high",
      "title": "Token Expired",
      "description": "Authentication token has expired and needs renewal",
      "causes": ["Token TTL exceeded", "Long-running session", "Clock skew"],
      "fix_steps": ["Refresh authentication token", "Re-authenticate with provider", "Run: openclaw models auth setup-token"],
      "fix_recipe_id": "fix-auth-key",
      "related_codes": ["TOKEN_EXPIRED"],
      "doc_url": "https://docs.openclaw.ai/configuration/auth"
    },
    {
      "id": "auth-005",
      "category": "authentication",
      "code": "401",
      "pattern": "(?i)(provider.*auth.*fail|api.*provider.*unauthorized|provider.*credentials.*invalid)",
      "severity": "critical",
      "title": "Provider Authentication Failure",
      "description": "AI provider rejected authentication credentials",
      "causes": ["Invalid provider API key", "Provider account suspended", "IP restriction on API key", "Wrong API endpoint"],
      "fix_steps": ["Verify provider API key is valid", "Check provider account status", "Review IP whitelist settings", "Test API key directly with provider"],
      "fix_recipe_id": "fix-auth-key",
      "related_codes": ["PROVIDER_AUTH_FAILED"],
      "doc_url": "https://docs.openclaw.ai/troubleshooting/providers"
    },
    {
      "id": "auth-006",
      "category": "authentication",
      "code": "403",
      "pattern": "(?i)(gateway.*token.*mismatch|invalid.*gateway.*token|gateway.*unauthorized)",
      "severity": "high",
      "title": "Gateway Token Mismatch",
      "description": "Gateway authentication token does not match configured value",
      "causes": ["Token mismatch between client and gateway", "Gateway token changed but not updated in channels", "Multiple gateway instances with different tokens"],
      "fix_steps": ["Verify GATEWAY_TOKEN in openclaw.json", "Update channel configurations with correct token", "Restart gateway after token change"],
      "fix_recipe_id": "fix-gateway-restart",
      "related_codes": ["FORBIDDEN"],
      "doc_url": "https://docs.openclaw.ai/gateway/security"
    },
    {
      "id": "auth-007",
      "category": "authentication",
      "code": "401",
      "pattern": "(?i)(api.*key.*revoked|credentials.*revoked|access.*revoked)",
      "severity": "critical",
      "title": "API Key Revoked",
      "description": "API key has been revoked by the provider",
      "causes": ["Manual key revocation", "Security incident", "Policy violation", "Billing issue"],
      "fix_steps": ["Generate new API key from provider dashboard", "Update openclaw.json with new key", "Run: openclaw models auth setup-token"],
      "fix_recipe_id": "fix-auth-key",
      "related_codes": ["INVALID_REQUEST"],
      "doc_url": "https://docs.openclaw.ai/configuration/auth"
    },
    {
      "id": "rate-001",
      "category": "rate-limiting",
      "code": "429",
      "pattern": "(?i)(rate.*limit.*exceed|too.*many.*requests|429|quota.*exceed)",
      "severity": "high",
      "title": "Rate Limit Exceeded",
      "description": "API request rate limit has been exceeded",
      "causes": ["Too many requests in short time", "Insufficient quota", "Shared rate limit across multiple instances"],
      "fix_steps": ["Wait before retrying", "Implement request throttling", "Increase rate limit with provider", "Distribute load across multiple API keys"],
      "fix_recipe_id": "fix-rate-wait",
      "related_codes": ["RATE_LIMITED"],
      "doc_url": "https://docs.openclaw.ai/troubleshooting/rate-limits"
    },
    {
      "id": "rate-002",
      "category": "rate-limiting",
      "code": "429",
      "pattern": "(?i)(daily.*limit.*reach|quota.*exhausted|usage.*limit)",
      "severity": "critical",
      "title": "Daily Quota Exhausted",
      "description": "Daily API usage quota has been exhausted",
      "causes": ["High usage volume", "Quota tier too low", "Unexpected usage spike"],
      "fix_steps": ["Wait for quota reset (usually midnight UTC)", "Upgrade provider plan", "Monitor usage with openclaw stats", "Implement usage alerts"],
      "fix_recipe_id": "fix-rate-wait",
      "related_codes": ["QUOTA_EXCEEDED"],
      "doc_url": "https://docs.openclaw.ai/monitoring/usage"
    },
    {
      "id": "rate-003",
      "category": "rate-limiting",
      "code": "429",
      "pattern": "(?i)(concurrent.*request.*limit|max.*concurrent|parallel.*limit)",
      "severity": "medium",
      "title": "Concurrent Request Limit",
      "description": "Maximum concurrent requests limit exceeded",
      "causes": ["Too many parallel requests", "Agent spawning too many concurrent tasks", "Channel flooding"],
      "fix_steps": ["Reduce concurrent request limit in openclaw.json", "Implement request queuing", "Add rate limiting per channel"],
      "fix_recipe_id": "fix-config-validate",
      "related_codes": ["CONCURRENT_LIMIT"],
      "doc_url": "https://docs.openclaw.ai/configuration/performance"
    },
    {
      "id": "rate-004",
      "category": "rate-limiting",
      "code": "429",
      "pattern": "(?i)(provider.*throttling|provider.*rate.*limit|api.*throttled)",
      "severity": "high",
      "title": "Provider Throttling",
      "description": "AI provider is actively throttling requests",
      "causes": ["Provider-side rate limiting", "Account tier limitations", "Unusual traffic pattern detected"],
      "fix_steps": ["Implement exponential backoff", "Reduce request frequency", "Contact provider support", "Upgrade account tier"],
      "fix_recipe_id": "fix-rate-wait",
      "related_codes": ["PROVIDER_THROTTLED"],
      "doc_url": "https://docs.openclaw.ai/troubleshooting/providers"
    },
    {
      "id": "rate-005",
      "category": "rate-limiting",
      "code": "429",
      "pattern": "(?i)(retry.*after|backoff|cooldown.*period)",
      "severity": "medium",
      "title": "Retry After Period",
      "description": "Request must wait for specified retry period",
      "causes": ["Recent rate limit violation", "Provider cooldown period", "Temporary throttling"],
      "fix_steps": ["Wait for Retry-After header duration", "Implement exponential backoff strategy", "Check openclaw logs for retry timing"],
      "fix_recipe_id": "fix-rate-wait",
      "related_codes": ["RETRY_AFTER"],
      "doc_url": "https://docs.openclaw.ai/troubleshooting/rate-limits"
    },
    {
      "id": "net-001",
      "category": "network",
      "code": "502",
      "pattern": "(?i)(502.*bad.*gateway|bad.*gateway|upstream.*error)",
      "severity": "high",
      "title": "Bad Gateway Error",
      "description": "Gateway received invalid response from upstream server",
      "causes": ["Provider API down", "Network routing issue", "Timeout from provider", "Proxy misconfiguration"],
      "fix_steps": ["Check provider status page", "Verify network connectivity", "Check openclaw gateway logs", "Test direct API access"],
      "fix_recipe_id": "fix-gateway-restart",
      "related_codes": ["BAD_GATEWAY"],
      "doc_url": "https://docs.openclaw.ai/troubleshooting/network"
    },
    {
      "id": "net-002",
      "category": "network",
      "code": "ETIMEDOUT",
      "pattern": "(?i)(connection.*timeout|ETIMEDOUT|request.*timeout|timed.*out)",
      "severity": "high",
      "title": "Connection Timeout",
      "description": "Network connection timed out before completing",
      "causes": ["Slow network connection", "Provider API latency", "Firewall blocking", "DNS resolution slow"],
      "fix_steps": ["Check internet connectivity", "Increase timeout in openclaw.json", "Verify firewall settings", "Test DNS resolution"],
      "fix_recipe_id": "fix-config-validate",
      "related_codes": ["TIMEOUT"],
      "doc_url": "https://docs.openclaw.ai/configuration/network"
    },
    {
      "id": "net-003",
      "category": "network",
      "code": "ENOTFOUND",
      "pattern": "(?i)(ENOTFOUND|dns.*resolution.*fail|host.*not.*found|name.*resolution)",
      "severity": "high",
      "title": "DNS Resolution Failed",
      "description": "Unable to resolve hostname to IP address",
      "causes": ["DNS server unreachable", "Invalid hostname", "Network configuration issue", "DNS cache poisoning"],
      "fix_steps": ["Check DNS server configuration", "Try alternative DNS (8.8.8.8)", "Flush DNS cache", "Verify hostname spelling"],
      "fix_recipe_id": "fix-network-dns",
      "related_codes": ["DNS_ERROR"],
      "doc_url": "https://docs.openclaw.ai/troubleshooting/network"
    },
    {
      "id": "net-004",
      "category": "network",
      "code": "ECONNREFUSED",
      "pattern": "(?i)(ECONNREFUSED|connection.*refused|refused.*to.*connect)",
      "severity": "critical",
      "title": "Connection Refused",
      "description": "Target server actively refused the connection",
      "causes": ["Service not running", "Wrong port number", "Firewall blocking", "Service crashed"],
      "fix_steps": ["Verify service is running", "Check port number in configuration", "Review firewall rules", "Check service logs"],
      "fix_recipe_id": "fix-gateway-restart",
      "related_codes": ["CONNECTION_REFUSED"],
      "doc_url": "https://docs.openclaw.ai/troubleshooting/network"
    },
    {
      "id": "net-005",
      "category": "network",
      "code": "SSL_ERROR",
      "pattern": "(?i)(ssl.*error|tls.*handshake.*fail|certificate.*invalid|CERT_.*ERROR)",
      "severity": "high",
      "title": "SSL/TLS Error",
      "description": "SSL/TLS connection failed due to certificate or handshake issue",
      "causes": ["Invalid SSL certificate", "Expired certificate", "Certificate chain broken", "TLS version mismatch"],
      "fix_steps": ["Update system CA certificates", "Check certificate validity", "Verify TLS version support", "Disable SSL verification temporarily for testing (not production)"],
      "fix_recipe_id": "fix-config-validate",
      "related_codes": ["SSL_ERROR"],
      "doc_url": "https://docs.openclaw.ai/troubleshooting/ssl"
    },
    {
      "id": "net-006",
      "category": "network",
      "code": "PROXY_ERROR",
      "pattern": "(?i)(proxy.*error|proxy.*connect.*fail|proxy.*timeout|proxy.*auth)",
      "severity": "medium",
      "title": "Proxy Connection Issue",
      "description": "Failed to connect through configured proxy",
      "causes": ["Proxy server down", "Proxy authentication failed", "Proxy misconfiguration", "Proxy timeout"],
      "fix_steps": ["Verify proxy server is running", "Check proxy credentials", "Test direct connection (disable proxy)", "Review proxy configuration"],
      "fix_recipe_id": "fix-config-validate",
      "related_codes": ["PROXY_ERROR"],
      "doc_url": "https://docs.openclaw.ai/configuration/proxy"
    },
    {
      "id": "net-007",
      "category": "network",
      "code": "503",
      "pattern": "(?i)(503.*service.*unavailable|api.*endpoint.*unreachable|provider.*unavailable)",
      "severity": "critical",
      "title": "API Endpoint Unreachable",
      "description": "API endpoint is unavailable or unreachable",
      "causes": ["Provider maintenance", "Provider outage", "Network path blocked", "Load balancer issue"],
      "fix_steps": ["Check provider status page", "Wait and retry", "Verify network path to endpoint", "Switch to backup provider if configured"],
      "fix_recipe_id": "fix-gateway-restart",
      "related_codes": ["SERVICE_UNAVAILABLE"],
      "doc_url": "https://docs.openclaw.ai/troubleshooting/providers"
    },
    {
      "id": "cfg-001",
      "category": "configuration",
      "code": "CONFIG_ERROR",
      "pattern": "(?i)(invalid.*json|json.*parse.*error|malformed.*json|unexpected.*token)",
      "severity": "critical",
      "title": "Invalid JSON Configuration",
      "description": "Configuration file contains invalid JSON syntax",
      "causes": ["Missing comma", "Trailing comma", "Unclosed bracket", "Invalid escape sequence"],
      "fix_steps": ["Validate JSON with jsonlint", "Check for syntax errors in openclaw.json", "Run: openclaw doctor --fix", "Restore from backup if available"],
      "fix_recipe_id": "fix-config-validate",
      "related_codes": ["PARSE_ERROR"],
      "doc_url": "https://docs.openclaw.ai/configuration/format"
    },
    {
      "id": "cfg-002",
      "category": "configuration",
      "code": "CONFIG_ERROR",
      "pattern": "(?i)(missing.*required.*field|required.*property|field.*is.*required)",
      "severity": "high",
      "title": "Missing Required Configuration Field",
      "description": "Required configuration field is missing from openclaw.json",
      "causes": ["Incomplete configuration", "Corrupted config file", "Migration from old version"],
      "fix_steps": ["Review required fields in documentation", "Run: openclaw doctor", "Regenerate config with: openclaw init", "Check config schema"],
      "fix_recipe_id": "fix-config-validate",
      "related_codes": ["VALIDATION_ERROR"],
      "doc_url": "https://docs.openclaw.ai/configuration/schema"
    },
    {
      "id": "cfg-003",
      "category": "configuration",
      "code": "CONFIG_ERROR",
      "pattern": "(?i)(unknown.*channel|channel.*not.*found|invalid.*channel.*type)",
      "severity": "high",
      "title": "Unknown Channel Type",
      "description": "Configured channel type is not recognized",
      "causes": ["Typo in channel type", "Unsupported channel", "Missing channel plugin", "Wrong channel name"],
      "fix_steps": ["Check channel type spelling", "Verify supported channels: whatsapp, telegram, discord, slack", "Install required channel plugin", "Review channel configuration"],
      "fix_recipe_id": "fix-config-validate",
      "related_codes": ["UNKNOWN_CHANNEL"],
      "doc_url": "https://docs.openclaw.ai/channels/overview"
    },
    {
      "id": "cfg-004",
      "category": "configuration",
      "code": "CONFIG_ERROR",
      "pattern": "(?i)(invalid.*port|port.*out.*of.*range|port.*must.*be.*number)",
      "severity": "medium",
      "title": "Invalid Port Configuration",
      "description": "Configured port number is invalid",
      "causes": ["Port number not an integer", "Port out of range (1-65535)", "Reserved port number"],
      "fix_steps": ["Set port to valid range 1-65535", "Use port > 1024 for non-root", "Change to available port", "Update GATEWAY_PORT in openclaw.json"],
      "fix_recipe_id": "fix-port-change",
      "related_codes": ["INVALID_PORT"],
      "doc_url": "https://docs.openclaw.ai/configuration/gateway"
    },
    {
      "id": "cfg-005",
      "category": "configuration",
      "code": "SCHEMA_ERROR",
      "pattern": "(?i)(schema.*validation.*fail|validation.*error|does.*not.*match.*schema)",
      "severity": "high",
      "title": "Schema Validation Failed",
      "description": "Configuration does not match expected schema",
      "causes": ["Wrong data type", "Invalid value", "Missing nested property", "Extra unknown fields"],
      "fix_steps": ["Run: openclaw doctor --fix", "Compare with schema documentation", "Validate against JSON schema", "Check for deprecated fields"],
      "fix_recipe_id": "fix-config-validate",
      "related_codes": ["VALIDATION_ERROR"],
      "doc_url": "https://docs.openclaw.ai/configuration/schema"
    },
    {
      "id": "cfg-006",
      "category": "configuration",
      "code": "CONFIG_ERROR",
      "pattern": "(?i)(deprecated.*config|config.*key.*deprecated|obsolete.*setting)",
      "severity": "low",
      "title": "Deprecated Configuration Key",
      "description": "Configuration uses deprecated or obsolete keys",
      "causes": ["Old configuration format", "Migrated from previous version", "Outdated documentation"],
      "fix_steps": ["Review deprecation warnings", "Update to new configuration keys", "Run: openclaw doctor --fix", "Check migration guide"],
      "fix_recipe_id": "fix-config-validate",
      "related_codes": ["DEPRECATED"],
      "doc_url": "https://docs.openclaw.ai/migration"
    },
    {
      "id": "chan-001",
      "category": "channel",
      "code": "CHANNEL_ERROR",
      "pattern": "(?i)(whatsapp.*not.*link|whatsapp.*qr.*code|NOT_LINKED|scan.*qr.*code)",
      "severity": "high",
      "title": "WhatsApp Not Linked - QR Scan Required",
      "description": "WhatsApp channel requires QR code scanning to link device",
      "causes": ["New WhatsApp channel setup", "Session expired", "Device unlinked", "Credentials cleared"],
      "fix_steps": ["Run: openclaw channels whatsapp scan", "Scan QR code with WhatsApp mobile app", "Wait for connection confirmation", "Restart gateway after linking"],
      "fix_recipe_id": "fix-channel-whatsapp-relink",
      "related_codes": ["NOT_LINKED"],
      "doc_url": "https://docs.openclaw.ai/channels/whatsapp"
    },
    {
      "id": "chan-002",
      "category": "channel",
      "code": "CHANNEL_ERROR",
      "pattern": "(?i)(telegram.*invalid.*token|telegram.*bot.*token|telegram.*auth.*fail)",
      "severity": "critical",
      "title": "Telegram Invalid Bot Token",
      "description": "Telegram bot token is invalid or missing",
      "causes": ["Wrong bot token", "Token not set in configuration", "Bot deleted by BotFather", "Token revoked"],
      "fix_steps": ["Get valid token from @BotFather on Telegram", "Update TELEGRAM_BOT_TOKEN in openclaw.json", "Run: openclaw channels telegram setup", "Verify token format"],
      "fix_recipe_id": "fix-channel-telegram-token",
      "related_codes": ["INVALID_TOKEN"],
      "doc_url": "https://docs.openclaw.ai/channels/telegram"
    },
    {
      "id": "chan-003",
      "category": "channel",
      "code": "CHANNEL_ERROR",
      "pattern": "(?i)(discord.*bot.*permission|discord.*missing.*intent|discord.*unauthorized)",
      "severity": "high",
      "title": "Discord Bot Missing Permissions",
      "description": "Discord bot lacks required permissions or intents",
      "causes": ["Missing MESSAGE_CONTENT intent", "Insufficient bot permissions", "Bot not invited to server", "Role hierarchy issue"],
      "fix_steps": ["Enable MESSAGE_CONTENT intent in Discord Developer Portal", "Re-invite bot with correct permissions", "Check bot role permissions in server", "Verify bot token"],
      "fix_recipe_id": "fix-config-validate",
      "related_codes": ["PERMISSION_DENIED"],
      "doc_url": "https://docs.openclaw.ai/channels/discord"
    },
    {
      "id": "chan-004",
      "category": "channel",
      "code": "CHANNEL_ERROR",
      "pattern": "(?i)(slack.*bolt.*connection|slack.*socket.*mode|slack.*app.*token)",
      "severity": "high",
      "title": "Slack Bolt Connection Failed",
      "description": "Slack Bolt app failed to establish socket mode connection",
      "causes": ["Invalid app token", "Socket mode not enabled", "Missing bot token", "Network issue"],
      "fix_steps": ["Enable Socket Mode in Slack app settings", "Verify SLACK_APP_TOKEN and SLACK_BOT_TOKEN", "Check app installation in workspace", "Review app manifest scopes"],
      "fix_recipe_id": "fix-config-validate",
      "related_codes": ["CONNECTION_ERROR"],
      "doc_url": "https://docs.openclaw.ai/channels/slack"
    },
    {
      "id": "chan-005",
      "category": "channel",
      "code": "CHANNEL_ERROR",
      "pattern": "(?i)(signal.*cli.*missing|signal.*not.*install|signal.*daemon)",
      "severity": "critical",
      "title": "Signal CLI Not Installed",
      "description": "Signal channel requires signal-cli to be installed",
      "causes": ["signal-cli not installed", "signal-cli not in PATH", "signal-cli daemon not running"],
      "fix_steps": ["Install signal-cli: brew install signal-cli (macOS) or apt install signal-cli (Linux)", "Start signal-cli daemon", "Register phone number", "Link device"],
      "fix_recipe_id": "fix-openclaw-install",
      "related_codes": ["DEPENDENCY_MISSING"],
      "doc_url": "https://docs.openclaw.ai/channels/signal"
    },
    {
      "id": "chan-006",
      "category": "channel",
      "code": "CHANNEL_ERROR",
      "pattern": "(?i)(imessage.*macos.*only|imessage.*not.*supported|imessage.*platform)",
      "severity": "high",
      "title": "iMessage Channel macOS Only",
      "description": "iMessage channel is only supported on macOS",
      "causes": ["Running on non-macOS platform", "Messages app not available", "Not logged into iCloud"],
      "fix_steps": ["Use macOS device for iMessage channel", "Ensure Messages app is installed and configured", "Sign in to iCloud", "Enable iMessage in Settings"],
      "fix_recipe_id": null,
      "related_codes": ["PLATFORM_UNSUPPORTED"],
      "doc_url": "https://docs.openclaw.ai/channels/imessage"
    },
    {
      "id": "chan-007",
      "category": "channel",
      "code": "CHANNEL_ERROR",
      "pattern": "(?i)(teams.*plugin.*required|teams.*not.*install|teams.*missing)",
      "severity": "medium",
      "title": "Microsoft Teams Plugin Required",
      "description": "Teams channel requires additional plugin installation",
      "causes": ["Teams plugin not installed", "Plugin version incompatible", "Plugin not activated"],
      "fix_steps": ["Install Teams plugin: pnpm add @openclaw/channel-teams", "Enable plugin in openclaw.json", "Configure Teams app credentials", "Restart gateway"],
      "fix_recipe_id": "fix-openclaw-install",
      "related_codes": ["PLUGIN_MISSING"],
      "doc_url": "https://docs.openclaw.ai/channels/teams"
    },
    {
      "id": "chan-008",
      "category": "channel",
      "code": "CHANNEL_ERROR",
      "pattern": "(?i)(pairing.*code.*expired|pairing.*timeout|link.*code.*invalid)",
      "severity": "medium",
      "title": "Pairing Code Expired",
      "description": "Channel pairing code has expired or is invalid",
      "causes": ["Timeout waiting for pairing", "Code already used", "Code manually entered incorrectly"],
      "fix_steps": ["Generate new pairing code", "Complete pairing within time limit", "Verify code entry is correct", "Check for typos"],
      "fix_recipe_id": "fix-channel-whatsapp-relink",
      "related_codes": ["PAIRING_FAILED"],
      "doc_url": "https://docs.openclaw.ai/channels/pairing"
    },
    {
      "id": "box-001",
      "category": "sandbox",
      "code": "SANDBOX_ERROR",
      "pattern": "(?i)(docker.*not.*running|docker.*daemon.*not.*start|cannot.*connect.*docker)",
      "severity": "critical",
      "title": "Docker Not Running",
      "description": "Docker daemon is not running or accessible",
      "causes": ["Docker daemon stopped", "Docker not installed", "Permission denied to Docker socket", "Docker Desktop not started"],
      "fix_steps": ["Start Docker daemon: systemctl start docker (Linux) or Docker Desktop (macOS/Windows)", "Verify Docker installation: docker --version", "Check Docker socket permissions", "Add user to docker group"],
      "fix_recipe_id": "fix-docker-start",
      "related_codes": ["DOCKER_NOT_RUNNING"],
      "doc_url": "https://docs.openclaw.ai/sandbox/docker"
    },
    {
      "id": "box-002",
      "category": "sandbox",
      "code": "SANDBOX_ERROR",
      "pattern": "(?i)(container.*oom|out.*of.*memory|memory.*limit.*exceed|killed.*oom)",
      "severity": "high",
      "title": "Container Out of Memory",
      "description": "Sandbox container exceeded memory limit and was killed",
      "causes": ["Memory-intensive operation", "Memory limit too low", "Memory leak in agent code", "Large file processing"],
      "fix_steps": ["Increase container memory limit in openclaw.json", "Optimize agent code for memory usage", "Monitor memory with: docker stats", "Reset sandbox container"],
      "fix_recipe_id": "fix-sandbox-reset",
      "related_codes": ["OOM_KILLED"],
      "doc_url": "https://docs.openclaw.ai/sandbox/limits"
    },
    {
      "id": "box-003",
      "category": "sandbox",
      "code": "SANDBOX_ERROR",
      "pattern": "(?i)(sandbox.*timeout|execution.*timeout|container.*timeout)",
      "severity": "medium",
      "title": "Sandbox Execution Timeout",
      "description": "Sandbox operation exceeded time limit",
      "causes": ["Long-running operation", "Infinite loop in code", "Timeout value too low", "Network delay"],
      "fix_steps": ["Increase sandbox timeout in openclaw.json", "Optimize agent code execution", "Check for infinite loops", "Review operation complexity"],
      "fix_recipe_id": "fix-config-validate",
      "related_codes": ["TIMEOUT"],
      "doc_url": "https://docs.openclaw.ai/sandbox/timeouts"
    },
    {
      "id": "box-004",
      "category": "sandbox",
      "code": "SANDBOX_ERROR",
      "pattern": "(?i)(permission.*denied.*sandbox|sandbox.*access.*denied|container.*permission)",
      "severity": "high",
      "title": "Sandbox Permission Denied",
      "description": "Permission denied when accessing sandbox resources",
      "causes": ["File permission issue", "SELinux blocking", "Volume mount permission", "User namespace mapping"],
      "fix_steps": ["Check volume mount permissions", "Review SELinux policies", "Verify Docker user mapping", "Run: ls -la on workspace directory"],
      "fix_recipe_id": "fix-permissions-fix",
      "related_codes": ["PERMISSION_DENIED"],
      "doc_url": "https://docs.openclaw.ai/sandbox/permissions"
    },
    {
      "id": "box-005",
      "category": "sandbox",
      "code": "SANDBOX_ERROR",
      "pattern": "(?i)(workspace.*mount.*fail|volume.*mount.*error|bind.*mount.*fail)",
      "severity": "high",
      "title": "Workspace Mount Failed",
      "description": "Failed to mount workspace directory into sandbox",
      "causes": ["Directory doesn't exist", "Permission denied", "Path too long", "Special characters in path"],
      "fix_steps": ["Verify workspace directory exists", "Check directory permissions", "Avoid special characters in path", "Use absolute path"],
      "fix_recipe_id": "fix-permissions-fix",
      "related_codes": ["MOUNT_ERROR"],
      "doc_url": "https://docs.openclaw.ai/sandbox/workspace"
    },
    {
      "id": "inst-001",
      "category": "installation",
      "code": "INSTALL_ERROR",
      "pattern": "(?i)(node.*version.*too.*old|node.*version.*require|node.*22.*require)",
      "severity": "critical",
      "title": "Node.js Version Too Old",
      "description": "Node.js version is below required minimum (v22)",
      "causes": ["Old Node.js installation", "Using system Node.js", "Wrong Node.js version active"],
      "fix_steps": ["Install Node.js v22+: Use fnm or nvm", "Switch to correct version: fnm use 22", "Verify: node --version", "Update PATH if needed"],
      "fix_recipe_id": "fix-node-install",
      "related_codes": ["VERSION_MISMATCH"],
      "doc_url": "https://docs.openclaw.ai/installation/requirements"
    },
    {
      "id": "inst-002",
      "category": "installation",
      "code": "INSTALL_ERROR",
      "pattern": "(?i)(pnpm.*not.*found|pnpm.*command.*not.*found|pnpm.*missing)",
      "severity": "high",
      "title": "pnpm Not Installed",
      "description": "pnpm package manager is not installed",
      "causes": ["pnpm not installed globally", "pnpm not in PATH", "Using npm instead of pnpm"],
      "fix_steps": ["Install pnpm: npm install -g pnpm", "Or use: corepack enable pnpm", "Verify: pnpm --version", "Restart terminal"],
      "fix_recipe_id": "fix-pnpm-install",
      "related_codes": ["DEPENDENCY_MISSING"],
      "doc_url": "https://docs.openclaw.ai/installation/setup"
    },
    {
      "id": "inst-003",
      "category": "installation",
      "code": "INSTALL_ERROR",
      "pattern": "(?i)(openclaw.*not.*found|openclaw.*command.*not.*found|openclaw.*not.*install)",
      "severity": "critical",
      "title": "OpenClaw Not in PATH",
      "description": "openclaw command is not found in system PATH",
      "causes": ["openclaw not installed globally", "npm global bin not in PATH", "Installation failed", "Using wrong package manager"],
      "fix_steps": ["Install: npm install -g openclaw", "Add npm bin to PATH: export PATH=$PATH:$(npm bin -g)", "Verify: openclaw --version", "Restart terminal"],
      "fix_recipe_id": "fix-openclaw-install",
      "related_codes": ["COMMAND_NOT_FOUND"],
      "doc_url": "https://docs.openclaw.ai/installation"
    },
    {
      "id": "inst-004",
      "category": "installation",
      "code": "INSTALL_ERROR",
      "pattern": "(?i)(npm.*install.*fail|pnpm.*install.*error|dependency.*install.*fail)",
      "severity": "high",
      "title": "Dependency Installation Failed",
      "description": "Failed to install package dependencies",
      "causes": ["Network error", "Registry unreachable", "Dependency conflict", "Insufficient disk space"],
      "fix_steps": ["Clear cache: pnpm store prune", "Retry installation", "Check network connectivity", "Verify disk space", "Try: pnpm install --force"],
      "fix_recipe_id": "fix-openclaw-install",
      "related_codes": ["INSTALL_FAILED"],
      "doc_url": "https://docs.openclaw.ai/troubleshooting/installation"
    },
    {
      "id": "inst-005",
      "category": "installation",
      "code": "INSTALL_ERROR",
      "pattern": "(?i)(git.*not.*found|git.*command.*not.*found|git.*missing)",
      "severity": "medium",
      "title": "Git Not Installed",
      "description": "Git version control system is not installed",
      "causes": ["Git not installed", "Git not in PATH", "Minimal system installation"],
      "fix_steps": ["Install Git: apt install git (Linux) or brew install git (macOS)", "Verify: git --version", "Add to PATH if needed"],
      "fix_recipe_id": null,
      "related_codes": ["DEPENDENCY_MISSING"],
      "doc_url": "https://docs.openclaw.ai/installation/requirements"
    },
    {
      "id": "port-001",
      "category": "port",
      "code": "EADDRINUSE",
      "pattern": "(?i)(EADDRINUSE|address.*already.*in.*use|port.*already.*bound)",
      "severity": "high",
      "title": "Port Already in Use",
      "description": "Configured port is already bound by another process",
      "causes": ["Another OpenClaw instance running", "Different service using port", "Previous process not terminated"],
      "fix_steps": ["Find process: lsof -i :PORT or netstat -ano | findstr :PORT", "Kill process or change port", "Update GATEWAY_PORT in openclaw.json", "Restart gateway"],
      "fix_recipe_id": "fix-port-kill",
      "related_codes": ["PORT_IN_USE"],
      "doc_url": "https://docs.openclaw.ai/troubleshooting/ports"
    },
    {
      "id": "port-002",
      "category": "port",
      "code": "PORT_ERROR",
      "pattern": "(?i)(port.*bind.*error|failed.*to.*bind|bind.*EADDRINUSE)",
      "severity": "high",
      "title": "Failed to Bind Port",
      "description": "Unable to bind to specified port",
      "causes": ["Port already in use", "Permission denied", "Invalid port number", "Network interface issue"],
      "fix_steps": ["Check port availability", "Use port > 1024 for non-root", "Verify port in range 1-65535", "Change to different port"],
      "fix_recipe_id": "fix-port-change",
      "related_codes": ["BIND_ERROR"],
      "doc_url": "https://docs.openclaw.ai/configuration/gateway"
    },
    {
      "id": "port-003",
      "category": "port",
      "code": "EACCES",
      "pattern": "(?i)(EACCES.*port|permission.*denied.*port|port.*1024.*root)",
      "severity": "medium",
      "title": "Permission Denied on Port",
      "description": "Insufficient permissions to bind to port (ports < 1024 require root)",
      "causes": ["Using privileged port without root", "Port < 1024", "SELinux policy blocking"],
      "fix_steps": ["Use port > 1024", "Run as root (not recommended)", "Use port forwarding: iptables", "Change GATEWAY_PORT in openclaw.json"],
      "fix_recipe_id": "fix-port-change",
      "related_codes": ["PERMISSION_DENIED"],
      "doc_url": "https://docs.openclaw.ai/configuration/gateway"
    },
    {
      "id": "perm-001",
      "category": "permission",
      "code": "EACCES",
      "pattern": "(?i)(EACCES|permission.*denied|access.*denied|operation.*not.*permitted)",
      "severity": "high",
      "title": "File Permission Denied",
      "description": "Insufficient permissions to access file or directory",
      "causes": ["Wrong file ownership", "Incorrect permissions", "SELinux blocking", "Read-only filesystem"],
      "fix_steps": ["Check file permissions: ls -la", "Fix ownership: chown user:group file", "Fix permissions: chmod 644 file", "Check SELinux status"],
      "fix_recipe_id": "fix-permissions-fix",
      "related_codes": ["PERMISSION_DENIED"],
      "doc_url": "https://docs.openclaw.ai/troubleshooting/permissions"
    },
    {
      "id": "perm-002",
      "category": "permission",
      "code": "EACCES",
      "pattern": "(?i)(credentials.*dir.*not.*writable|cannot.*write.*credentials|credentials.*permission)",
      "severity": "critical",
      "title": "Credentials Directory Not Writable",
      "description": "Unable to write to credentials directory",
      "causes": ["Directory doesn't exist", "Permission denied", "Read-only mount", "Disk full"],
      "fix_steps": ["Create directory: mkdir -p ~/.openclaw/credentials", "Fix permissions: chmod 700 ~/.openclaw/credentials", "Verify disk space: df -h", "Check directory ownership"],
      "fix_recipe_id": "fix-permissions-fix",
      "related_codes": ["WRITE_ERROR"],
      "doc_url": "https://docs.openclaw.ai/configuration/credentials"
    },
    {
      "id": "perm-003",
      "category": "permission",
      "code": "PERMISSION_ERROR",
      "pattern": "(?i)(SYSTEM_RUN_DENIED|exec.*not.*allowed|command.*execution.*denied)",
      "severity": "high",
      "title": "System Command Execution Denied",
      "description": "Agent attempted to run system command without approval",
      "causes": ["Auto-approval disabled", "Command not whitelisted", "Security policy blocking", "Sandbox restriction"],
      "fix_steps": ["Enable auto-approval for trusted commands in openclaw.json", "Approve command manually when prompted", "Review security policy", "Check sandbox permissions"],
      "fix_recipe_id": "fix-config-validate",
      "related_codes": ["EXEC_DENIED"],
      "doc_url": "https://docs.openclaw.ai/security/approvals"
    },
    {
      "id": "perm-004",
      "category": "permission",
      "code": "APPROVAL_ERROR",
      "pattern": "(?i)(approval.*required|exec.*approval.*need|user.*approval.*pending)",
      "severity": "medium",
      "title": "User Approval Required",
      "description": "Operation requires explicit user approval before proceeding",
      "causes": ["Sensitive operation", "Auto-approval not configured", "Security policy", "First-time command"],
      "fix_steps": ["Approve the operation when prompted", "Enable auto-approval for trusted operations", "Review approval settings in openclaw.json", "Whitelist command if appropriate"],
      "fix_recipe_id": "fix-config-validate",
      "related_codes": ["APPROVAL_REQUIRED"],
      "doc_url": "https://docs.openclaw.ai/security/approvals"
    },
    {
      "id": "api-001",
      "category": "api",
      "code": "AGENT_TIMEOUT",
      "pattern": "(?i)(AGENT_TIMEOUT|agent.*timeout|agent.*unresponsive|agent.*hang)",
      "severity": "high",
      "title": "Agent Execution Timeout",
      "description": "Agent failed to respond within timeout period",
      "causes": ["Long-running operation", "Agent stuck", "Provider API slow", "Infinite loop"],
      "fix_steps": ["Increase agent timeout in openclaw.json", "Check agent logs for errors", "Optimize agent code", "Review provider latency"],
      "fix_recipe_id": "fix-config-validate",
      "related_codes": ["TIMEOUT"],
      "doc_url": "https://docs.openclaw.ai/agents/timeouts"
    },
    {
      "id": "api-002",
      "category": "api",
      "code": "503",
      "pattern": "(?i)(UNAVAILABLE|service.*unavailable|temporarily.*unavailable|503)",
      "severity": "high",
      "title": "Service Temporarily Unavailable",
      "description": "API service is temporarily unavailable",
      "causes": ["Provider maintenance", "Server overload", "Temporary outage", "Rate limiting"],
      "fix_steps": ["Wait and retry", "Check provider status page", "Implement exponential backoff", "Use fallback provider if configured"],
      "fix_recipe_id": "fix-gateway-restart",
      "related_codes": ["SERVICE_UNAVAILABLE"],
      "doc_url": "https://docs.openclaw.ai/troubleshooting/availability"
    },
    {
      "id": "api-003",
      "category": "api",
      "code": "400",
      "pattern": "(?i)(INVALID_REQUEST|invalid.*request|bad.*request|400)",
      "severity": "medium",
      "title": "Invalid API Request",
      "description": "API request is malformed or invalid",
      "causes": ["Invalid parameters", "Wrong request format", "Missing required fields", "Invalid JSON"],
      "fix_steps": ["Review request parameters", "Check API documentation", "Validate request format", "Review agent code"],
      "fix_recipe_id": "fix-config-validate",
      "related_codes": ["BAD_REQUEST"],
      "doc_url": "https://docs.openclaw.ai/api/requests"
    },
    {
      "id": "api-004",
      "category": "api",
      "code": "404",
      "pattern": "(?i)(model.*not.*found|unknown.*model|invalid.*model|404.*model)",
      "severity": "high",
      "title": "Model Not Found",
      "description": "Requested AI model is not available or doesn't exist",
      "causes": ["Model name typo", "Model deprecated", "Wrong provider", "Model not in account tier"],
      "fix_steps": ["Verify model name", "Check available models: openclaw models list", "Update model in openclaw.json", "Verify provider access"],
      "fix_recipe_id": "fix-config-validate",
      "related_codes": ["NOT_FOUND"],
      "doc_url": "https://docs.openclaw.ai/models/overview"
    },
    {
      "id": "api-005",
      "category": "api",
      "code": "413",
      "pattern": "(?i)(context.*window.*exceed|token.*limit.*exceed|payload.*too.*large|413)",
      "severity": "medium",
      "title": "Context Window Exceeded",
      "description": "Request exceeds model's context window limit",
      "causes": ["Too many tokens in prompt", "Large conversation history", "Big file attachment", "Context accumulation"],
      "fix_steps": ["Reduce prompt length", "Clear conversation history", "Use model with larger context window", "Implement context pruning"],
      "fix_recipe_id": "fix-config-validate",
      "related_codes": ["PAYLOAD_TOO_LARGE"],
      "doc_url": "https://docs.openclaw.ai/models/context-limits"
    }
  ]
}

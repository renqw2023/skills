---
name: menstrual-cycle-tracking
description: 记录和分析女性月经周期数据。当用户发送以“记录月经周期”开头的自然语言信息时使用，用于提取时间、周期天数、流量、痛感和情绪等结构化数据并保存到 JSON 文件，同时支持基于历史数据的健康趋势分析。
---

# Period Tracker Skill

该技能允许通过自然语言记录月经周期，并生成结构化的分析报告。

## 核心流程

### 1. 识别与提取
   - 触发词：“记录月经周期”。
   - 提取字段：日期、周期第几天 (`cycle_day`)、流量 (`flow`)、疼痛等级 (`pain` 0-10)、情绪 (`mood`)。
   - 如果用户没有提及第几天, 那么通过本周期的开始日期自行推算

### 2. 存储方案
   - 数据保存在 SKILL 目录下的 `menstrual_cycle_tracking_records.json`。
   - 格式建议
```
    {
        "timestamp": "2026-01-15T09:25:00",
        "raw_text": "记录月经周期：第四天，量变小了，身体感觉轻松多了。",
        "structured": {
            "date": "2026-01-15",
            "cycle_day": 4,
            "status": "ongoing",
            "flow": "light",
            "pain": 1,
            "mood": "better",
            "symptoms": []
        }
    },
```

### 3. 分析与改进
   - 从原始文字到结构化数据的转换不是固定不变的, 需要不断持续改进. 
   - 比如, 用户没有办法明确地记录"今天是本周期最后一天", 但是, 空闲很长一段时间后记录周期的开始, 那么上次记录就是周期结束.

## 使用示例

用户：“记录月经周期：第二天，量很大，肚子剧痛，心情很烦。”
操作：结构化为 `cycle_day: 2, flow: heavy, pain: 8` 等。
